{% extends 'base.html.twig' %} {% block title %} {% for slider in sliders %}
{{ slider.titulo }}
{% endfor %} {% endblock %} {% block header %} {% endblock %} {% block body %}
<div class="fixed-nav">{% include 'nav/_menu_nav.html.twig' %}</div>
<div class="carousel-container">
  <div
    id="carouselExampleIndicators"
    class="carousel slide"
    data-bs-ride="carousel"
  >
    <div class="carousel-inner">
      {% for slider in sliders %}
      <div class="carousel-item{% if loop.first %} active{% endif %}">
        <div
          class="card-image-slider"
          style="background-image: linear-gradient(rgba(0, 0, 0, 0.316), transparent), url('{{ asset('uploads/images/' ~ slider.imagen) }}'); background-size: cover; background-position: center;"
        >
          <div class="content-slider">
            <h3 class="animation content-slider-title">
              {{ slider.titulo }}
            </h3>
            <h2 class="animation content-slider-subtitle">
              {{ tour.titulo }}
            </h2>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#carouselExampleIndicators"
      data-bs-slide="prev"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#carouselExampleIndicators"
      data-bs-slide="next"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>
<div class="menu__detalle-tour">
  <div class="detalle-tour">
    <ul>
      <li>
        <a
          href="#descripcion"
          id="selected
               "
          >Descripcion</a
        >
      </li>
      <li><a href="#precio">Precios</a></li>
      <li><a href="#detalles">Detalles</a></li>
      <li><a href="#cancelacion">Cancelaciones</a></li>
      <li><a href="#encuentro">Punto de encuentro</a></li>
      <li><a href="#">Opiniones</a></li>
    </ul>
  </div>
</div>
<div id="container-detalles">
  <div id="descripcion" class="container-detalles">
    <h3>{{ tour.titulo }}</h3>
    <div class="detalle-descripcion">
      <p>{{ tour.descripcionCorta }}</p>
      <div class="descripcion-hidden">
        <p>{{ tour.descripcionLarga | raw }}</p>
      </div>
      <div class="descripcion-container">
        <a href="#" id="mostrar-link" class="btn-description"
          >Ver descripción completa</a
        >
      </div>
      <a href="#" id="ocultar-link" class="descripcion-hidden"
        >Ocultar descripción</a
      >
    </div>
    <hr />
    <div id="precio" class="detalle-precio">
      <h3>Precio</h3>
      <p>
        Los free tours no tienen un precio fijo. Cada persona valora la labor
        del guía y, al finalizar el tour, entrega el importe que considere a su
        voluntad en función de su satisfacción.
      </p>
    </div>
    <hr />
    <div id="detalles" class="detalle-general">
      <h3>Detalles</h3>
      <div>
        <div class="detalle-duracion">
          <div class="detalle-titulo">
            <i class="fas fa-clock"></i>
            <h5>Duracion</h5>
          </div>
          <p>1h 30m - 2h</p>
        </div>
        <hr />
        <div class="detalle-idioma">
          <div class="detalle-titulo">
            <i class="fas fa-comment"></i>
            <h5>Idioma</h5>
          </div>
          <p>La actividad se realiza con un guia que habla espanol</p>
        </div>

        <hr />
        <div class="detalle-incluido">
          <div class="detalle-titulo">
            <i class="fas fa-check"></i>
            <h5>Incluido</h5>
          </div>
          <p>Guia en espanol</p>
        </div>
        <hr />
        <div class="detalle-noincluido">
          <div class="detalle-titulo">
            <i class="fas fa-ban"></i>
            <h5>No incluido</h5>
          </div>
          <p>Propinas</p>
        </div>
        <hr />
        <div class="detalle-reservar">
          <div class="detalle-titulo">
            <i class="fas fa-calendar"></i>
            <h5>Cuando reservar</h5>
          </div>
          <p>Puedes reservar hasta 30 minutos antes de que comience el tour</p>
        </div>
        <hr />
        <div class="detalle-accesibilidad">
          <div class="detalle-titulo">
            <i class="fas fa-wheelchair"></i>
            <h5>Accesibilidad</h5>
          </div>
          <p>No es accesible en silla de ruedas</p>
        </div>
        <hr />
        <div class="detalle-mascotas">
          <div class="detalle-titulo">
            <i class="fas fa-paw"></i>
            <h5>Mascotas</h5>
          </div>
          <p>No permitidas</p>
        </div>
        <hr />
        <div class="detalle-faq">
          <div class="detalle-titulo">
            <i class="fas fa-question"></i>
            <h5>Preguntas frecuentes</h5>
          </div>
        </div>
        <div class="detalle-faq-2">
          <ul>
            <li>
              <p><strong>Como hacer la reserva?</strong></p>
              <p>
                Para reservar el Free tour de leyendas y misterios de Paris,
                elige la fecha deseada y completa el formulario, indicando el
                numero de participantes. La confirmacion es inmediata.
              </p>
            </li>
            <li>
              <p>
                <strong>Se necesita un numero minimo de participantes?</strong>
              </p>
              <p>
                El numero minimo de participantes es de una persona, asi que si
                es tu caso apuntate y disfruta de un rato agradable
              </p>
            </li>
            <li>
              <p>
                Para cualquier otra duda, {#
                <a href="{{ path('contacto') }}">contacta con nosotros</a> #}
              </p>
            </li>
          </ul>
        </div>
        <hr />
        <div id="cancelacion" class="detalle-cancelacion">
          <h3>Cancelacion gratuita</h3>
          <p>
            Si no vas a poder asistir al tour, por favor, cancela la reserva, si
            no, el guía te estará esperando.
          </p>
        </div>
        <hr />
        <div id="encuentro" class="detalle-encuentro">
          <div class="meeting-point">
            <h3>Punto de encuentro</h3>
            <h5><strong>Donde termina la actividad?</strong></h5>
          </div>
          <div class="ubicacion">
            <div class="detalle-location">
              <i class="fas fa-map-marker-alt"></i>
              <p>Place de cité</p>
            </div>
            <div class="detalle-location">
              <i class="fas fa-map-marker-alt"></i>
              <p>Plaza del ayuntamiento</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {#
  <div class="calendar">
    <img
      src="{{ asset('uploads/images/montmartre.jpg') }}"
      alt=""
      width="250"
      height="350"
    />
  </div>
  #}
</div>
{% endblock %} {% block javascripts %}
<script>
  const navBar1 = document.querySelector("#navigation");
const menuBtn = document.querySelector(".menu-btn");
const closeBtn = document.querySelector(".close-btn");
const menuMobile = document.querySelector(".menu-mobile");
const navBarSpan = document.querySelector(".logo a span");
const navBarElem = document.querySelector("nav ul li a");
// const navBarUserName = document.querySelector(".icon-nav");   
const mobileLinks = document.querySelectorAll(".menu-mobile li");

menuBtn.addEventListener("click", () => {
  menuBtn.style.display = "none";
  closeBtn.style.display = "block";
  closeBtn.style.color = 'white';
  menuMobile.classList.add('active');
  navBar1.style.backgroundColor = "#18BB9C";
  navBarElem.style.color = "#000";
  navBarSpan.style.color = "#000";
  // navBarUserName.style.color = "#000";
});

closeBtn.addEventListener("click", () => {
  menuBtn.style.display = "block";
  closeBtn.style.display = "none";
  menuMobile.classList.remove('active');
  if (scrollY > 0) {
    navBar1.style.backgroundColor = "#18BB9C";
    navBarElem.style.color = "#000";
    navBarSpan.style.color = "#000";
    // navBarUserName.style.color = "#000";
  } else {
    // Solo cambia el color de fondo si el ancho de la pantalla es menor a 970px
    if (window.innerWidth < 970) {
      navBar1.style.backgroundColor = "#18BB9C";
      navBarElem.style.color = "#000";
      navBarSpan.style.color = "#000";
      // navBarUserName.style.color = "#000";
    } else {
      navBar1.style.backgroundColor = "#18BB9C";
      navBarElem.style.color = "#000";
      navBarSpan.style.color = "#000";
      // navBarUserName.style.color = "#000";
    }
  }
});

function handleResize() {
  if (window.innerWidth >= 970) {
    // Si el ancho de la pantalla es mayor o igual a 970px
    menuBtn.style.display = "none";
    closeBtn.style.display = "none";
    navBarElem.style.color = "#18BB9C";
    navBarSpan.style.color = "#18BB9C";
    navBar1.style.backgroundColor = "transparent";
  } else {
    // Si el ancho de la pantalla es menor de 970px
    menuBtn.style.display = "block";
    closeBtn.style.display = "none";
    navBar1.style.backgroundColor = "#18BB9C";
    navBarElem.style.color = "#000";
    navBarSpan.style.color = "#000";
  }
}

// Ejecutar handleResize al cargar la página
handleResize();

// Ejecutar handleResize cada vez que se cambie el tamaño de la pantalla
window.addEventListener("resize", handleResize);

mobileLinks.forEach(link => (link.addEventListener("click", () => {
  menuMobile.classList.remove('active');
  menuBtn.style.display = "block";
  closeBtn.style.display = "none";
})));


//* ------------- Logique pour que le fond du navBar change a partir d'un petit scroll d'ecran, et aussi la couleur de certains elements qui se trouvent dans la navBar, et a partir de 300px de scroll la navBar disparait en se montre a noubeau quand on scroll vers la haut ----------------

window.addEventListener("scroll", () => {
if (window.scrollY > 0 && window.scrollY < 300) {
 if (window.innerWidth >= 970) {
   navBar1.style.backgroundColor = "#18BB9C";
   navBarElem.style.color = "#000";
   navBarSpan.style.color = "#000";
  //  navBarUserName.style.color = "#000";
 } else {
   navBar1.style.backgroundColor = "#18BB9C";
   navBarElem.style.color = "#000";
   navBarSpan.style.color = "#000";
  //  navBarUserName.style.color = "#000";
 }
} else if (window.scrollY > 300) {
 navBar1.style.display = "none";
} else {
 navBar1.style.backgroundColor = "transparent";
 navBarElem.style.color = "#18BB9C";
 navBarSpan.style.color = "#18BB9C";
//  navBarUserName.style.color = "#000";
}
});

let prevScrollY = window.scrollY;

window.addEventListener("scroll", () => {
const currentScrollY = window.scrollY;

if (currentScrollY < prevScrollY) {
 navBar1.style.display = "flex";   
}

prevScrollY = currentScrollY;
});

// Ejecutamos la función al cargar la página
window.dispatchEvent(new Event("scroll"));
</script>
{{ encore_entry_script_tags("js/tour") }}

{% endblock %}
